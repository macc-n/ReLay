fact(1,couch(1,2),1).
fact(2,wall(2,opposite),1).
fact(3,tv(3,no,floor),1).
fact(4,tv(5,no,floor),1).

rule(1,tv(IDtv,Opposite,floor),and([couch(IDcouch,IDwall),wall(IDwall,Opposite),tv(IDtv,no,floor)]),3,1).
rule(2,end_table(Opposite),and([couch(IDcouch,IDwall),wall(IDwall,Opposite),tv(IDtv,no,table),end_table(no)]),3,1).